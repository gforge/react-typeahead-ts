!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("tslib"),require("react"),require("reactstrap")):"function"==typeof define&&define.amd?define(["exports","tslib","react","reactstrap"],t):t(e.FormikAdminTaskType={},e.tslib,e.React,e.reactstrap)}(this,function(e,t,n,o){"use strict";function s(e,t){return e(t={exports:{}},t.exports),t.exports}var r,i=s(function(e,t){var n;function o(e,t,o){if(!o||typeof o.value!==n.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+t+"> is not a method!");return{configurable:n.boolTrue,get:function(){var e=o.value.bind(this);return Object.defineProperty(this,t,{value:e,configurable:n.boolTrue,writable:n.boolTrue}),e}}}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.typeOfFunction="function",e.boolTrue=!0}(n||(n={})),t.bind=o,t.default=o}),a=(r=i)&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r,p=function(){function e(){}return e.IDENTITY_FN=function(e){return e},e.generateAccessor=function(e){return function(t){return t[e]}},e.generateOptionToStringFor=function(t){return"string"==typeof t?e.generateAccessor(t):"function"==typeof t?t:e.IDENTITY_FN},e.valueForOption=function(e,t){if("string"==typeof e){if("object"!=typeof t)throw new Error("Invalid object type "+typeof t);return t[e]}if("function"==typeof e)return e(t);if("string"==typeof t)return t;throw new Error("Invalid object type "+typeof t)},e}(),u=s(function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var r=typeof s;if("string"===r||"number"===r)e.push(s);else if(Array.isArray(s))e.push(n.apply(null,s));else if("object"===r)for(var i in s)t.call(s,i)&&s[i]&&e.push(i)}}return e.join(" ")}e.exports?e.exports=n:window.classNames=n}()}),l=function(e){function o(t){var n=e.call(this,t)||this;return n.onClick=n.onClick.bind(n),n}return t.__extends(o,e),o.prototype.getProps=function(){return t.__assign({customClasses:{hover:"hover"},onClick:function(e){e.preventDefault()},hover:!1},this.props)},o.prototype.render=function(){var e=this.getProps(),t=e.customClasses,o=e.children,s=e.customValue,r={},i=t.listItem,a=t.hover,p=t.customAdd;r[void 0===a?"hover":a]=Boolean(e.hover),i&&(r[i]=Boolean(i)),s&&p&&(r[p]=Boolean(p));var l=u(r);return n.createElement("li",{className:l,onClick:this.onClick,onMouseDown:this.onClick},n.createElement("a",{href:"javascript: void 0;",className:this.getClasses()},o))},o.prototype.getClasses=function(){var e={"typeahead-option":!0},t=this.getProps().customClasses.listAnchor;return t&&(e[t]=!0),u(e)},o.prototype.onClick=function(e){return e.preventDefault(),this.props.onClick(e)},o}(n.Component),c=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(o,e),o.prototype.getProps=function(){return t.__assign({customClasses:{},allowCustomValues:0,onOptionSelected:function(){},defaultClassNames:!0},this.props)},o.prototype.render=function(){var e=this,t=this.getProps(),o=t.options,s=t.customClasses,r=t.customValue,i=t.displayOption,a=t.defaultClassNames,p=t.selectionIndex,c=t.areResultsTruncated,h=t.resultsTruncatedMessage;if(!o.length&&t.allowCustomValues<=0)return!1;var d={"typeahead-selector":a},f=s.results;f&&(d[f]=!0);var y,m=u(d),v=0;r&&(v+=1,y=n.createElement(l,{key:r,hover:0===p,customClasses:s,customValue:r,onClick:this.onClick.bind(this,r)},r));var g=o.map(function(t,o){var r=i(t,o);return n.createElement(l,{key:r+"_"+o,hover:p===o+v,customClasses:s,onClick:e.onClick.bind(e,t)},r)});if(c&&h){var _={"results-truncated":a},E=s.resultsTruncated;E&&(_[E]=!0);var O=u(_);g.push(n.createElement("li",{key:"results-truncated",className:O},this.props.resultsTruncatedMessage))}return n.createElement("ul",{className:m},y,g)},o.prototype.onClick=function(e,t){var n=this.props.onOptionSelected;if(n)return n(e,t)},o}(n.Component),h=h||{};h.DOM_VK_UP=h.DOM_VK_UP||38,h.DOM_VK_DOWN=h.DOM_VK_DOWN||40,h.DOM_VK_BACK_SPACE=h.DOM_VK_BACK_SPACE||8,h.DOM_VK_RETURN=h.DOM_VK_RETURN||13,h.DOM_VK_ENTER=h.DOM_VK_ENTER||14,h.DOM_VK_ESCAPE=h.DOM_VK_ESCAPE||27,h.DOM_VK_TAB=h.DOM_VK_TAB||9;var d=s(function(e,t){var n;e.exports=n={},n.simpleFilter=function(e,t){return t.filter(function(t){return n.test(e,t)})},n.test=function(e,t){return null!==n.match(e,t)},n.match=function(e,t,n){var o,s=0,r=[],i=t.length,a=0,p=0,u=(n=n||{}).pre||"",l=n.post||"",c=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var h=0;h<i;h++)o=t[h],c[h]===e[s]?(o=u+o+l,s+=1,p+=1+p):p=0,a+=p,r[r.length]=o;return s===e.length?(a=c===e?Infinity:a,{rendered:r.join(""),score:a}):null},n.filter=function(e,t,o){return t&&0!==t.length?"string"!=typeof e?t:(o=o||{},t.reduce(function(t,s,r,i){var a=s;o.extract&&(a=o.extract(s));var p=n.match(e,a,o);return null!=p&&(t[t.length]={string:p.rendered,score:p.score,index:r,original:s}),t},[]).sort(function(e,t){var n=t.score-e.score;return n||e.index-t.index})):[]}}),f=function(e){function s(t){var n=e.call(this,t)||this;return n.state={searchResults:n.getOptionsForValue(t.initialValue,t.options),entryValue:t.value||"",selection:t.value,selectionIndex:void 0,isFocused:!1,showResults:!1},n}return t.__extends(s,e),s.prototype.getProps=function(){return t.__assign({customClasses:{},allowCustomValues:0,initialValue:"",value:"",disabled:!1,textarea:!1,customListComponent:c,showOptionsWhenEmpty:!1},this.props)},s.prototype.shouldSkipSearch=function(e){var t=!e||0===e.trim().length;return!(this.props.showOptionsWhenEmpty&&(this.state&&this.state.isFocused))&&t},s.prototype.getOptionsForValue=function(e,t){return this.shouldSkipSearch(e)?[]:this.generateSearchFunction()(e,t)},s.prototype.setEntryText=function(e){this.inputElement&&(this.inputElement.value=e,this.onTextEntryUpdated())},s.prototype.focus=function(){this.inputElement&&this.inputElement.focus()},s.prototype.hasCustomValue=function(){var e=this.getProps().allowCustomValues,t=this.state;return e&&e>0&&t.entryValue.length>=e&&t.searchResults.indexOf(this.state.entryValue)<0},s.prototype.getCustomValue=function(){if(this.hasCustomValue())return this.state.entryValue},s.prototype.renderIncrementalSearchResults=function(){var e=this,t=this.state,o=t.entryValue,s=t.selection,r=t.searchResults,i=t.selectionIndex,a=this.getProps(),u=a.maxVisible,l=a.resultsTruncatedMessage,h=a.allowCustomValues,d=a.customClasses,f=a.defaultClassNames;if(this.shouldSkipSearch(o))return"";if(s)return"";var y=Boolean(u&&r.length>u);return n.createElement(c,{innerRef:function(t){return e.selectElement=t},options:u?r.slice(0,u):r,areResultsTruncated:y,resultsTruncatedMessage:l,onOptionSelected:this.onOptionSelected,allowCustomValues:h,customValue:this.getCustomValue(),customClasses:d,selectionIndex:i,defaultClassNames:f,displayOption:p.generateOptionToStringFor(this.props.displayOption)})},s.prototype.getSelection=function(){var e=this.state.selectionIndex;if(void 0===e)throw new Error("No index set");if(this.hasCustomValue()){if(0===e)return this.state.entryValue;e-=1}return this.state.searchResults[e]},s.prototype.onOptionSelected=function(e,t){if(!this.inputElement)throw new Error("No input element");this.inputElement.focus();var n=this.getProps(),o=n.displayOption,s=n.formInputOption,r=(o=p.generateOptionToStringFor(this.props.inputDisplayOption||o))(e,0),i=(s=p.generateOptionToStringFor(s||o))(e);return this.inputElement.value=r,this.setState({searchResults:this.getOptionsForValue(r,this.props.options),selection:i,entryValue:r,showResults:!1}),this.props.onOptionSelected&&this.props.onOptionSelected(e,t)},s.prototype.onTextEntryUpdated=function(){if(!this.inputElement)throw new Error("No input element");var e=this.inputElement.value;this.setState({searchResults:this.getOptionsForValue(e,this.props.options),selection:"",entryValue:e})},s.prototype.onEnter=function(e){var t=this.getSelection();return t?this.onOptionSelected(t,e):this.props.onKeyDown&&this.props.onKeyDown(e)},s.prototype.onEscape=function(){this.setState({selectionIndex:void 0})},s.prototype.onTab=function(e){var t=this.getSelection(),n=t||(this.state.searchResults.length>0?this.state.searchResults[0]:void 0);if(void 0===n&&this.hasCustomValue()&&(n=this.getCustomValue()),void 0!==n)return this.onOptionSelected(n,e)},s.prototype.eventMap=function(){var e={};return e[h.DOM_VK_UP]=this.navUp,e[h.DOM_VK_DOWN]=this.navDown,e[h.DOM_VK_RETURN]=e[h.DOM_VK_ENTER]=this.onEnter,e[h.DOM_VK_ESCAPE]=this.onEscape,e[h.DOM_VK_TAB]=this.onTab,e},s.prototype.nav=function(e){if(this.hasHint()){var t=this.state,n=t.selectionIndex,o=t.searchResults,s=this.getProps().maxVisible,r=void 0===n?1===e?0:e:n+e,i=s?o.slice(0,s).length:o.length;this.hasCustomValue()&&(i+=1),r<0?r+=i:r>=i&&(r-=i),this.setState({selectionIndex:r})}},s.prototype.navDown=function(){this.nav(1)},s.prototype.navUp=function(){this.nav(-1)},s.prototype.onChange=function(e){var t=this.getProps().onChange;t&&t(e),this.onTextEntryUpdated()},s.prototype.onKeyDown=function(e){if(!this.hasHint()||e.shiftKey)return this.props.onKeyDown&&this.props.onKeyDown(e);var t=this.eventMap()[e.keyCode];if(!t)return this.props.onKeyDown&&this.props.onKeyDown(e);t(e),e.preventDefault()},s.prototype.componentWillReceiveProps=function(e){var t=this.getOptionsForValue(this.state.entryValue,e.options),n=Boolean(t.length)&&this.state.isFocused;this.setState({searchResults:t,showResults:n})},s.prototype.render=function(){var e=this,s=this.getProps(),r=s.customClasses.input,i=s.className,a={};r&&(a[r]=!0);var p=u(a),l={typeahead:this.props.defaultClassNames};i&&(l[i]=!0);var c=u(l);return n.createElement("div",{className:c},this.renderHiddenInput(),n.createElement(o.Input,t.__assign({innerRef:function(t){e.inputElement=t,e.props.innerRef&&e.props.innerRef(t)},type:this.props.textarea?"textarea":"text",disabled:this.props.disabled},this.props.inputProps,{placeholder:this.props.placeholder,className:p,value:this.state.entryValue,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyPress:this.props.onKeyPress,onKeyUp:this.props.onKeyUp,onFocus:this.onFocus,onBlur:this.onBlur})),this.state.showResults&&this.renderIncrementalSearchResults())},s.prototype.onFocus=function(e){var t=this;if(this.setState({isFocused:!0,showResults:!0},function(){t.onTextEntryUpdated()}),this.props.onFocus)return this.props.onFocus(e)},s.prototype.onBlur=function(e){var t=this;if(this.setState({isFocused:!1},function(){t.onTextEntryUpdated()}),this.props.onBlur)return this.props.onBlur(e)},s.prototype.renderHiddenInput=function(){var e=this.getProps().name;return e?n.createElement("input",{type:"hidden",name:e,value:this.state.selection}):null},s.prototype.generateSearchFunction=function(){var e,t=this.getProps(),n=t.searchOptions,o=t.filterOption;return"function"==typeof n?(null!==o&&console.warn("searchOptions prop is being used, filterOption prop will be ignored"),n):"function"==typeof o?function(e,t){return t.filter(function(t){return o(e,t)})}:(e="string"==typeof o?p.generateAccessor(o):p.IDENTITY_FN,function(t,n){return d.filter(t,n,{extract:e}).map(function(e){return n[e.index]})})},s.prototype.hasHint=function(){return this.state.searchResults.length>0||this.hasCustomValue()},t.__decorate([a],s.prototype,"focus",null),t.__decorate([a],s.prototype,"onOptionSelected",null),t.__decorate([a],s.prototype,"onTextEntryUpdated",null),t.__decorate([a],s.prototype,"onEnter",null),t.__decorate([a],s.prototype,"onEscape",null),t.__decorate([a],s.prototype,"onTab",null),t.__decorate([a],s.prototype,"onChange",null),t.__decorate([a],s.prototype,"onKeyDown",null),t.__decorate([a],s.prototype,"onFocus",null),t.__decorate([a],s.prototype,"onBlur",null),s}(n.Component),y=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(o,e),o.prototype.render=function(){var e=u(["typeahead-token",this.props.className]);return n.createElement("div",{className:e,key:this.props.key},this.renderHiddenInput(),this.props.children,this.renderCloseButton())},o.prototype.renderHiddenInput=function(){var e=this.props,t=e.name,o=e.value,s=e.object;if(!t)return null;var r=o||s;if("string"!=typeof r)throw new Error("Expected either string value or string object");return n.createElement("input",{type:"hidden",name:t+"[]",value:r})},o.prototype.renderCloseButton=function(){var e=this;return this.props.onRemove?n.createElement("a",{className:this.props.className||"typeahead-token-close",href:"#",onClick:function(t){e.props.onRemove(e.props.object),t.preventDefault()}},"Ã—"):""},o}(n.Component),m=function(e){function o(t){var n=e.call(this,t)||this;return n.state={selected:n.props.defaultSelected.slice(0)},n}return t.__extends(o,e),o.prototype.getProps=function(){return t.__assign({customClasses:{},allowCustomValues:0,disabled:!1,inputProps:{},defaultClassNames:!0,displayOption:function(e){return e},showOptionsWhenEmpty:!1},this.props)},o.prototype.componentWillReceiveProps=function(e){(function(e,t){if(e.length!==t.length)return!0;for(var n=t.length-1;n>=0;n-=1)if(t[n]!==e[n])return!0;return!1})(this.props.defaultSelected,e.defaultSelected)&&this.setState({selected:e.defaultSelected.slice(0)})},o.prototype.focus=function(){if(!this.typeaheadElement)throw new Error("No typeahead element");this.typeaheadElement.focus()},o.prototype.getSelectedTokens=function(){return this.state.selected},o.prototype.renderTokens=function(){var e=this,t=this.getProps(),o=t.customClasses.token,s=t.displayOption,r=t.formInputOption,i=t.name,a={};o&&(a[o]=!0);var l=u(a);return this.state.selected.map(function(t){var o=p.valueForOption(s,t),a=p.valueForOption(r||s,t);if(!o||!a)throw new Error("Expected string and value to exist");return n.createElement(y,{key:o,className:l,onRemove:e.removeTokenForValue,object:t,value:a,name:i},o)})},o.prototype.getOptionsForTypeahead=function(){return this.props.options},o.prototype.onKeyDown=function(e){if(e.keyCode===h.DOM_VK_BACK_SPACE)return this.handleBackspace(e);this.props.onKeyDown&&this.props.onKeyDown(e)},o.prototype.handleBackspace=function(e){if(this.state.selected.length){if(!this.typeaheadElement)throw new Error("Expected typeahead element to exist");this.typeaheadElement.selectionStart===this.typeaheadElement.selectionEnd&&0===this.typeaheadElement.selectionStart&&(this.removeTokenForValue(this.state.selected[this.state.selected.length-1]),e.preventDefault())}},o.prototype.removeTokenForValue=function(e){var t=this.state.selected.indexOf(e);-1!==t&&(this.state.selected.splice(t,1),this.setState({selected:this.state.selected}),this.props.onTokenRemove&&this.props.onTokenRemove(e))},o.prototype.addTokenForValue=function(e){var t=this.state.selected;if(-1===t.indexOf(e)){if(t=t.concat([e]),this.setState({selected:t}),!this.typeaheadElement)throw new Error("Expected typahead to be set");this.typeaheadElement.value="",this.props.onTokenAdd&&this.props.onTokenAdd(e)}},o.prototype.render=function(){var e=this,o=this.getProps(),s=o.className,r=o.customClasses,i=void 0===r?{}:r,a=o.disabled,p=o.inputProps,l=o.allowCustomValues,c=o.initialValue,h=void 0===c?"":c,d=o.maxVisible,y=o.resultsTruncatedMessage,m=o.placeholder,v=o.onKeyPress,g=o.onKeyUp,_=o.onFocus,E=o.onBlur,O=o.displayOption,C=o.defaultClassNames,V=o.filterOption,w=o.searchOptions,T=o.showOptionsWhenEmpty,x={},S=i.typeahead;S&&(x[S]=!0);var D=u(x),K=[];C&&K.push("typeahead-tokenizer"),s&&K.push(s);var b=u(K),k={placeholder:m,disabled:a,inputProps:p,customClasses:i,allowCustomValues:l,initialValue:h,maxVisible:d,resultsTruncatedMessage:y,onKeyPress:v,onKeyUp:g,onFocus:_,onBlur:E,displayOption:O,defaultClassNames:C,filterOption:V,searchOptions:w,showOptionsWhenEmpty:T};return n.createElement("div",{className:b},this.renderTokens(),n.createElement(f,t.__assign({innerRef:function(t){return e.typeaheadElement=t},className:D},k,{options:this.getOptionsForTypeahead(),onOptionSelected:this.addTokenForValue,onKeyDown:this.onKeyDown})))},o}(n.Component);e.Typeahead=f,e.Tokenizer=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=typeahead.umd.min.js.map
